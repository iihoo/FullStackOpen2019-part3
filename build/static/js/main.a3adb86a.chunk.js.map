{"version":3,"sources":["components/Person.js","services/personService.js","App.js","index.js"],"names":["Person","_ref","person","deletePerson","react_default","a","createElement","name","number","id","onClick","baseUrl","personService","axios","get","then","response","data","newObject","post","delete","concat","put","Filter","props","value","filter","onChange","filterChange","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Persons","persons","map","components_Person","key","handleDelete","toLowerCase","includes","Notification","message","className","ErrorMessage","_ref2","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","setMessage","_useState11","_useState12","errorMessage","setErrorMessage","useEffect","initialPersons","App_Notification","App_ErrorMessage","App_Filter","event","console","log","target","handleFilterChange","App_PersonForm","preventDefault","personObject","alert","returnedPersons","setTimeout","window","confirm","find","p","returnedPerson","catch","error","App_Persons","getAttribute","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.a3adb86a.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person, deletePerson }) => {\n\n    return (\n        <div>\n            {person.name} {person.number} <button id={person.id} name={person.name} onClick={deletePerson}>delete</button>\n        </div>\n    )\n\n}\n\nexport default Person","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteObject = id => {\n  axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, deleteObject, update}","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport personService from './services/personService'\nimport './index.css'\n\nconst Filter = (props) => {\n  return (\n    <div>\n      filter shown with <input value={props.filter} onChange={props.filterChange} />\n    </div>\n  )\n}\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.addPerson}>\n      <div>\n        name: <input value={props.newName} onChange={props.handleNameChange} />\n      </div>\n      <div>\n        number: <input value={props.newNumber} onChange={props.handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nconst Persons = (props) => {\n  if (props.filter === \"\") {\n    return props.persons.map(person =>\n      <Person key={person.name} person={person} deletePerson={props.handleDelete} />)\n  } else {\n    const filteredPersons = props.persons.filter(person =>\n      person.name.toLowerCase().includes(props.filter.toLowerCase()))\n    return filteredPersons.map(person =>\n      <Person key={person.name} person={person} deletePerson={props.handleDelete} />)\n  }\n}\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n  return (\n    <div className=\"message\">\n      {message}\n    </div>\n  )\n}\n\nconst ErrorMessage = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n  return (\n    <div className=\"errorMessage\">\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (newName === \"\") {\n      alert(\"name is missing\")\n    } else if (newNumber === \"\") {\n      alert(\"number is missing\")\n    } else {\n\n      const names = persons.map(person => person.name)\n      if (names.includes(personObject.name) === false) {\n        personService\n          .create(personObject)\n          .then(returnedPersons => {\n            setPersons(persons.concat(returnedPersons))\n          })\n        setMessage(\n          `Added ${newName}`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n        setNewName('')\n        setNewNumber('')\n      } else {\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n          const person = persons.find(p => p.name === newName)\n          personService\n            .update(person.id, personObject).then(returnedPerson => {\n              setPersons(persons.map(p => p.name !== newName ? p : returnedPerson))\n              setMessage(\n                `${newName}'s number was changed`\n              )\n              setNewName('')\n              setNewNumber('')\n            })\n            .catch(error => {\n              setMessage(null)\n              setErrorMessage(\n                `the person ${newName} was already deleted from server`\n              )\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 5000)\n              //alert(\n              //  `the person ${newName} was already deleted from server`\n              //)\n              setPersons(persons.filter(p => p.name !== newName))\n            })\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n\n        }\n        //alert(`${newName} is already added to phonebook`)\n      }\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setFilter(event.target.value)\n  }\n\n\n  const handleDelete = (event) => {\n    event.preventDefault()\n    const name = event.target.getAttribute(\"name\")\n    const id = event.target.getAttribute(\"id\")\n    if (window.confirm(\"Delete \" + name + \"?\")) {\n      personService\n        .deleteObject(id)\n      setMessage(\n        `${name} was deleted`\n      )\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n      setPersons(persons.filter(p => p.name !== name))\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={message} />\n      <ErrorMessage message={errorMessage} />\n\n      <Filter\n        filter={filter}\n        filterChange={(event) => handleFilterChange(event)} />\n      <h3>add a new</h3>\n      <PersonForm\n        newName={newName} newNumber={newNumber}\n        addPerson={(event) => addPerson(event)}\n        handleNameChange={(event) => handleNameChange(event)}\n        handleNumberChange={(event) => handleNumberChange(event)} />\n      <h3>Numbers</h3>\n      <Persons\n        filter={filter} persons={persons} handleDelete={(event) => handleDelete(event)} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}